/* 
 * File:   libcssmarduino.h
 * Author: Dimitri "Hurukan" <soundlord@gmail.com>
 *
 * Créé le October 17, 2019, 10:17 PM
 *  
 */

#ifndef LIBCSSMARDUINO_H
#define LIBCSSMARDUINO_H

// ****************************************************************************
// SECTION : fichiers d'inclusions
// ****************************************************************************

#include <termios.h>
#include <stdio.h>

// **************************************************************************** 
// Définition(s) des variables statiques/externes
// **************************************************************************** 

// **************************************************************************** 
// Définitions des constantes symboliques
// **************************************************************************** 

// **************************************************************************** 
// Définition(s) des structures, types et énumérations
// ****************************************************************************

// Basé sur l'Arduino UNO R3

typedef struct s_ArduinoDatas
{
	// D'après le schéma du ATMEGA328
	
	// Les ports PWM () sont les ports 3,5,6 (portd) 9,10,11 (portb)
	// Pour les transmissions réseau	le RX se trouve en portd[0] (0)
	//																le TX se trouve en portd[1] (1)
	
	// INT0 se trouve sur portd[2]
	// INT1						sur portd[3]
 	
	// SPI
	//	SCK		--> portb[5] (13)
	//	MISO	--> portb[4] (12)
	//	MOSI	--> portb[3] (11)
	//	SS		--> portb[2] (10)
	
	char	portb[6];							// digital (8 à 13)
	float portc[6];							// analog  (A0 à A5) RESET -> portc[5] 
	char	portd[8];							// digital (0 à 7) 		
	
}t_ArduinoDatas;

// **************************************************************************** 
// Définition(s) des fonctions
// ****************************************************************************

bool	isArduinoDetected(char*);

int		ConfigureArduino(char*,speed_t);
int	SndMessage(int,void*,size_t);		

void*	RcvMessage(int,size_t);


#endif /* LIBCSSMARDUINO_H */

